<div class="container mt-5 fade-in">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      
      <div class="card shadow-lg border-0 rounded-lg">
        
        <div class="card-header bg-primary text-white text-center py-4 header-gradient">
          <div class="mb-2">
            <i class="fa fa-user-edit fa-3x"></i>
          </div>
          <h3 class="mb-0">Editar Perfil de Usuario</h3>
          <p class="mb-0 opacity-75">Actualiza la información personal y de contacto</p>
        </div>

        <div class="card-body p-5">
          
          <div *ngIf="cargando" class="text-center py-5">
            <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;"></div>
            <p class="mt-3 text-muted fw-bold">Recuperando datos...</p>
          </div>

          <form *ngIf="!cargando" [formGroup]="editarForm" (ngSubmit)="guardarCambios()">
            
            <div class="row g-3 mb-4">
              <div class="col-md-6">
                <label class="form-label fw-bold text-muted small">NOMBRE</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-user text-muted"></i></span>
                  <input type="text" class="form-control" formControlName="nombre" placeholder="Nombre">
                </div>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-bold text-muted small">APELLIDO</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-user text-muted"></i></span>
                  <input type="text" class="form-control" formControlName="apellido" placeholder="Apellido">
                </div>
              </div>
            </div>

            <div class="row g-3 mb-4">
              <div class="col-md-6">
                <label class="form-label fw-bold text-muted small">CÉDULA DE IDENTIDAD</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-id-card text-muted"></i></span>
                  <input type="text" class="form-control" formControlName="ci" placeholder="Ej: 1234567">
                </div>
              </div>
              <div class="col-md-6">
                <label class="form-label fw-bold text-muted small">TELÉFONO / CELULAR</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-phone text-muted"></i></span>
                  <input type="text" class="form-control" formControlName="telefono" placeholder="Ej: 77712345">
                </div>
              </div>
            </div>

            <div class="mb-5">
              <label class="form-label fw-bold text-muted small">CORREO ELECTRÓNICO (ID)</label>
              <div class="input-group">
                <span class="input-group-text bg-light border-end-0"><i class="fa fa-envelope text-muted"></i></span>
                <input type="email" class="form-control bg-light border-start-0 border-end-0 text-muted" 
                       formControlName="email" readonly>
                <span class="input-group-text bg-light border-start-0"><i class="fa fa-lock text-warning" title="No editable"></i></span>
              </div>
              <div class="form-text text-end fst-italic">
                <small>El correo electrónico no se puede modificar por seguridad.</small>
              </div>
            </div>

            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
              <button type="button" class="btn btn-outline-secondary px-4 py-2 me-md-2" (click)="cancelar()">
                <i class="fa fa-arrow-left me-2"></i> Cancelar
              </button>
              <button type="submit" class="btn btn-primary px-5 py-2 shadow-sm button-save" 
                      [disabled]="editarForm.invalid || editarForm.pristine">
                <i class="fa fa-save me-2"></i> Guardar Cambios
              </button>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>